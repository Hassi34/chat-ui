@if (!currentUser()) {
  <app-login-screen></app-login-screen>
} @else {
  <mat-toolbar color="primary" class="app-toolbar">
    <div class="app-toolbar__brand">
      <mat-icon>auto_awesome</mat-icon>
      <span>{{ title() }}</span>
    </div>
    <span class="app-toolbar__spacer"></span>
    @if (activeThreadId()) {
      <div class="app-toolbar__thread" aria-live="polite">
        <mat-icon aria-hidden="true">link</mat-icon>
        <span class="app-toolbar__thread-text">{{ activeThreadId() }}</span>
      </div>
    }
    <button mat-icon-button aria-label="Start new chat" (click)="startNewChat()">
      <mat-icon>add_comment</mat-icon>
    </button>
  </mat-toolbar>

  <main class="app-shell">
    <app-conversation-sidebar></app-conversation-sidebar>
    <section class="app-shell__content">
      <app-active-chat (threadChanged)="handleThreadChange($event)"></app-active-chat>
    </section>
  </main>
}
